---
import PageLayout from './PageLayout.astro';
import ReadingProgress from '../components/ReadingProgress.astro';

const { frontmatter } = Astro.props;
const { title, pubDate, tags = [] } = frontmatter;
const dateStr = new Date(pubDate).toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric',
});
---

<ReadingProgress />
<PageLayout
  title={title + ' | n0rdp0l'}
  headerTitle="Blog"
  headerSubtitle="Exploring the Latent Space"
  headerDescription={`"What is essential is invisible to the eye." — Antoine de Saint-Exupéry`}
  navVariant="post"
>
  <div class="post-header">
    <h1 transition:name={`post-title-${Astro.url.pathname.split('/').filter(Boolean)[1]}`}>{title}</h1>
    <div class="post-meta">
      <time>{dateStr}</time>
      {tags.length > 0 && (
        <span>
          &nbsp;·&nbsp;
          {tags.map((tag: string) => (
            <a class="tag-badge" href={`/tags/${tag}/`}>{tag}</a>
          ))}
        </span>
      )}
    </div>
  </div>
  <div class="prose">
    <slot />
  </div>
</PageLayout>
